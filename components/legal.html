<!-- Legal Section: Floating Buttons + Modals -->

<!-- ===== FLOATING ACTION BUTTONS ===== -->
<div class="fixed bottom-6 right-6 z-40 flex flex-col gap-3 items-end">

    <!-- Libro de Reclamaciones Button -->
    <div class="group flex items-center gap-3">
        <span
            class="opacity-0 group-hover:opacity-100 transition-all duration-200 translate-x-1 group-hover:translate-x-0 bg-white text-slate-700 text-xs font-medium px-3 py-1.5 rounded-lg shadow-md border border-slate-100 whitespace-nowrap pointer-events-none">
            Libro de Reclamaciones
        </span>
        <button onclick="openLegalModal('complaints')" id="btn-complaints" aria-label="Abrir Libro de Reclamaciones"
            class="w-12 h-12 rounded-xl bg-white text-accent shadow-lg hover:shadow-xl border border-slate-200 hover:border-accent/30 hover:-translate-y-0.5 transition-all duration-200 flex items-center justify-center">
            <i class="fas fa-book-open text-base"></i>
        </button>
    </div>

    <!-- Buzón de Sugerencias Button -->
    <div class="group flex items-center gap-3">
        <span
            class="opacity-0 group-hover:opacity-100 transition-all duration-200 translate-x-1 group-hover:translate-x-0 bg-white text-slate-700 text-xs font-medium px-3 py-1.5 rounded-lg shadow-md border border-slate-100 whitespace-nowrap pointer-events-none">
            Buzón de Sugerencias
        </span>
        <button onclick="openLegalModal('suggestions')" id="btn-suggestions" aria-label="Abrir Buzón de Sugerencias"
            class="w-12 h-12 rounded-xl bg-white text-primary shadow-lg hover:shadow-xl border border-slate-200 hover:border-primary/30 hover:-translate-y-0.5 transition-all duration-200 flex items-center justify-center">
            <i class="fas fa-comment-dots text-base"></i>
        </button>
    </div>

</div>


<!-- ===== MODAL: LIBRO DE RECLAMACIONES ===== -->
<div id="complaints-modal" class="fixed inset-0 z-50 hidden">
    <!-- Backdrop -->
    <div id="complaints-backdrop" class="absolute inset-0 bg-slate-900/50 opacity-0 transition-opacity duration-300"
        onclick="closeLegalModal('complaints')">
    </div>

    <!-- Panel -->
    <div class="relative z-10 flex items-center justify-center min-h-screen p-4">
        <div id="complaints-panel"
            class="w-full max-w-xl bg-white rounded-2xl shadow-xl opacity-0 translate-y-8 scale-95 transition-all duration-300 overflow-hidden border border-slate-100">

            <!-- Header -->
            <div class="px-8 pt-8 pb-6 border-b border-slate-100 flex items-start justify-between gap-4">
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 rounded-xl bg-red-50 flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-book-open text-accent text-sm"></i>
                    </div>
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900 font-heading">Libro de Reclamaciones</h2>
                        <p class="text-xs text-slate-400 mt-0.5">Registra tu reclamo o queja de forma oficial</p>
                    </div>
                </div>
                <button onclick="closeLegalModal('complaints')"
                    class="w-8 h-8 rounded-lg bg-slate-100 hover:bg-slate-200 flex items-center justify-center transition-colors flex-shrink-0 mt-0.5">
                    <i class="fas fa-times text-slate-500 text-xs"></i>
                </button>
            </div>

            <!-- Form Body -->
            <div class="px-8 py-6 max-h-[68vh] overflow-y-auto">
                <form id="complaints-form" onsubmit="handleComplaintsSubmit(event)" class="space-y-4">

                    <!-- Apellidos y Nombres -->
                    <div class="space-y-1.5">
                        <label for="comp-name" class="text-xs font-semibold text-slate-500 uppercase tracking-wide">
                            Apellidos y Nombres <span
                                class="text-accent normal-case tracking-normal font-normal">*</span>
                        </label>
                        <input type="text" id="comp-name" placeholder="García López, María" required
                            class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:border-slate-400 focus:bg-white focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300">
                    </div>

                    <!-- Domicilio -->
                    <div class="space-y-1.5">
                        <label for="comp-address" class="text-xs font-semibold text-slate-500 uppercase tracking-wide">
                            Domicilio <span class="text-accent normal-case tracking-normal font-normal">*</span>
                        </label>
                        <input type="text" id="comp-address" placeholder="Av. Grau 123, Piura" required
                            class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:border-slate-400 focus:bg-white focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300">
                    </div>

                    <!-- DNI / CE + Teléfono -->
                    <div class="grid grid-cols-2 gap-3">
                        <div class="space-y-1.5">
                            <label for="comp-dni" class="text-xs font-semibold text-slate-500 uppercase tracking-wide">
                                DNI / CE <span class="text-accent normal-case tracking-normal font-normal">*</span>
                            </label>
                            <input type="text" id="comp-dni" placeholder="12345678" required maxlength="12"
                                class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:border-slate-400 focus:bg-white focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300">
                        </div>
                        <div class="space-y-1.5">
                            <label for="comp-phone"
                                class="text-xs font-semibold text-slate-500 uppercase tracking-wide">
                                Teléfono <span class="text-accent normal-case tracking-normal font-normal">*</span>
                            </label>
                            <input type="tel" id="comp-phone" placeholder="980 160 029" required
                                class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:border-slate-400 focus:bg-white focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300">
                        </div>
                    </div>

                    <!-- Email -->
                    <div class="space-y-1.5">
                        <label for="comp-email" class="text-xs font-semibold text-slate-500 uppercase tracking-wide">
                            Correo Electrónico <span
                                class="text-accent normal-case tracking-normal font-normal">*</span>
                        </label>
                        <input type="email" id="comp-email" placeholder="correo@ejemplo.com" required
                            class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:border-slate-400 focus:bg-white focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300">
                    </div>

                    <!-- Detalle del Reclamo -->
                    <div class="space-y-1.5">
                        <label for="comp-detail" class="text-xs font-semibold text-slate-500 uppercase tracking-wide">
                            Detalle del Reclamo o Queja <span
                                class="text-accent normal-case tracking-normal font-normal">*</span>
                        </label>
                        <textarea id="comp-detail" rows="3" placeholder="Describe detalladamente tu reclamo o queja..."
                            required
                            class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:border-slate-400 focus:bg-white focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300 resize-none"></textarea>
                    </div>

                    <!-- Validación -->
                    <div class="border border-slate-200 rounded-xl p-4 bg-slate-50 space-y-2">
                        <p id="complaints-captcha-text"
                            class="text-xs font-semibold text-slate-500 uppercase tracking-wide flex items-center gap-2">
                            <i class="fas fa-shield-alt text-accent"></i>
                            Validación: ¿5 + 7?
                        </p>
                        <input type="number" id="complaints-captcha-input" placeholder="Escribe el resultado" required
                            class="w-full px-4 py-2.5 rounded-lg bg-white border border-slate-200 focus:border-slate-400 focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none">
                    </div>

                    <!-- Submit -->
                    <button type="submit"
                        class="w-full bg-slate-900 hover:bg-slate-700 text-white font-semibold text-sm py-3.5 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 mt-2">
                        <i class="fas fa-paper-plane text-xs"></i>
                        Registrar Reclamo
                    </button>

                </form>
            </div>
        </div>
    </div>
</div>


<!-- ===== MODAL: BUZÓN DE SUGERENCIAS ===== -->
<div id="suggestions-modal" class="fixed inset-0 z-50 hidden">
    <!-- Backdrop -->
    <div id="suggestions-backdrop" class="absolute inset-0 bg-slate-900/50 opacity-0 transition-opacity duration-300"
        onclick="closeLegalModal('suggestions')">
    </div>

    <!-- Panel -->
    <div class="relative z-10 flex items-center justify-center min-h-screen p-4">
        <div id="suggestions-panel"
            class="w-full max-w-md bg-white rounded-2xl shadow-xl opacity-0 translate-y-8 scale-95 transition-all duration-300 overflow-hidden border border-slate-100">

            <!-- Header -->
            <div class="px-8 pt-8 pb-6 border-b border-slate-100 flex items-start justify-between gap-4">
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 rounded-xl bg-green-50 flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-comment-dots text-primary text-sm"></i>
                    </div>
                    <div>
                        <h2 class="text-lg font-semibold text-slate-900 font-heading">Buzón de Sugerencias</h2>
                        <p class="text-xs text-slate-400 mt-0.5">Tu opinión nos ayuda a mejorar</p>
                    </div>
                </div>
                <button onclick="closeLegalModal('suggestions')"
                    class="w-8 h-8 rounded-lg bg-slate-100 hover:bg-slate-200 flex items-center justify-center transition-colors flex-shrink-0 mt-0.5">
                    <i class="fas fa-times text-slate-500 text-xs"></i>
                </button>
            </div>

            <!-- Form Body -->
            <div class="px-8 py-6 max-h-[68vh] overflow-y-auto">
                <form id="suggestions-form" onsubmit="handleSuggestionsSubmit(event)" class="space-y-4">

                    <!-- DNI -->
                    <div class="space-y-1.5">
                        <label for="suggestion-dni"
                            class="text-xs font-semibold text-slate-500 uppercase tracking-wide">
                            DNI <span class="text-accent normal-case tracking-normal font-normal">*</span>
                        </label>
                        <input type="text" id="suggestion-dni" placeholder="12345678" required maxlength="12"
                            class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:border-slate-400 focus:bg-white focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300">
                    </div>

                    <!-- Nombre -->
                    <div class="space-y-1.5">
                        <label for="suggestion-name"
                            class="text-xs font-semibold text-slate-500 uppercase tracking-wide">
                            Nombre <span class="text-accent normal-case tracking-normal font-normal">*</span>
                        </label>
                        <input type="text" id="suggestion-name" placeholder="María García" required
                            class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:border-slate-400 focus:bg-white focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300">
                    </div>

                    <!-- Email -->
                    <div class="space-y-1.5">
                        <label for="suggestion-email"
                            class="text-xs font-semibold text-slate-500 uppercase tracking-wide">
                            Correo Electrónico <span
                                class="text-accent normal-case tracking-normal font-normal">*</span>
                        </label>
                        <input type="email" id="suggestion-email" placeholder="correo@ejemplo.com" required
                            class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:border-slate-400 focus:bg-white focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300">
                    </div>

                    <!-- Mensaje Constructivo -->
                    <div class="space-y-1.5">
                        <label for="suggestion-message"
                            class="text-xs font-semibold text-slate-500 uppercase tracking-wide">
                            Mensaje Constructivo <span
                                class="text-accent normal-case tracking-normal font-normal">*</span>
                        </label>
                        <textarea id="suggestion-message" rows="3"
                            placeholder="Comparte tu sugerencia para mejorar nuestra institución..." required
                            class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:border-slate-400 focus:bg-white focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300 resize-none"></textarea>
                    </div>

                    <!-- Validación -->
                    <div class="border border-slate-200 rounded-xl p-4 bg-slate-50 space-y-2">
                        <p id="suggestions-captcha-text"
                            class="text-xs font-semibold text-slate-500 uppercase tracking-wide flex items-center gap-2">
                            <i class="fas fa-shield-alt text-primary"></i>
                            Seguridad: ¿6 + 4?
                        </p>
                        <input type="number" id="suggestions-captcha-input" placeholder="Escribe el resultado" required
                            class="w-full px-4 py-2.5 rounded-lg bg-white border border-slate-200 focus:border-slate-400 focus:ring-0 outline-none transition-all text-slate-800 text-sm placeholder-slate-300 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none">
                    </div>

                    <!-- Submit -->
                    <button type="submit"
                        class="w-full bg-slate-900 hover:bg-slate-700 text-white font-semibold text-sm py-3.5 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 mt-2">
                        <i class="fas fa-paper-plane text-xs"></i>
                        Enviar Sugerencia
                    </button>

                </form>
            </div>
        </div>
    </div>
</div>